## Java基本语法

### 标识符

```
如同人的姓名一样，在计算机程序中为常量，变量，类，方法等进行命名
凡是自己可以起名字的地方都叫标识符

命名规则：
	1)以数字，字母，下划线_，美元符号$组成，但不能包含 @,%，空格等其他特殊字符，不能以数字开头
	123name：不合法的标识符
	2)不能为java中的关键字和保留字，但可以包含关键字和保留字
	  Java预留的关键字，以后的升级版本中有可能作为关键字
	  void：不可以作为标识符
	  myvoid：可以作为标识符
	3)严格区分大小写
	  name Name：为两个不同的标识符
	4)可以为中文，但不推荐使用中文作为标识符
```

```
起名字的目的就是为了让人们记住，所以最好要 见名知意！

一般情况下：
1.包名 - 全小写，多级中间用[.]分隔
	example：top.zhangzhibo.app
2.类名/接口名 - 开头字母大写，多个单词每个单词首字母都大写
	example：Student	HelloWorld
3.方法名/变量 - 开头字母小写，多个单词从第二个单词开始首字母大写
	example：display()	setAge()	getAge	name	firstName
4.常量 - 每个字母都大写，多个单词之间用下划线[_]分隔
	example：SCORE	MAX_AGE
5.项目名 - 每个字母都小写，多个单词之间用[-]分隔
	example：demo	java-demo

尽量采用驼峰式的命名方式
	example：apple / noteBook
```

### 关键字

```
被Java语言赋予了特殊的含义，用作专门用途的字符串
关键字不能作为标识符出现，但是可以是标识符的一部分
所有Java关键字都是小写英文
```

```
50个关键字和3个保留字
控制访问：4个
	public：公共的
	protected：受保护的，同一个包中的类及子类可以访问
	private：私有的，本类可以访问
	default：默认的
类，方法：6个
	abstract：声明抽象
	class：类
	interface：定义接口
	implements：实现接口
	extends：类继承
	new：创建新对象
程序控制：12个
	if：如果
	else：否则
	instanceof：判断一个对象是否是一个类的实例
	switch：开关语句
	case：switch语句的一个条件
	break：跳出循环或跳出switch语句块
	default：switch语句的默认分支，所有case不匹配时执行
	for：循环语句
	do：循环语句
	while：循环语句
	continue：结束本次循环，继续下一次循环
	return：返回，用于跳出方法
修饰方法变量：8个
	static：静态的
	final：最终的不可被改变的
	const：Java预留的关键字
	navite：本地，原生方法，表示方法用非java代码实现
	synchronized：线程同步的
	transient：修饰不要序列化的字段，短暂
	volatile：标记字段可能会被多个线程同时访问，易失
	strictfp：严格的，精准的
异常处理：5个
	try：捕获异常
	catch：处理异常
	finally：有无异常都会执行
	throw：抛出一个异常对象
	throws：声明一个方法可能抛出异常
包相关：2个
	import：引入包
	package：定义包
数据类型：8个
	byte：字节型
	short：短整型
	int：整型
	long：长整型
	float：单精度浮点型
	double：双精度浮点型
	char：字符型
	boolean：布尔型
变量引用：3个
	super：调用父类的方法/构造函数/成员变量
	this：表示调用当前实例的成员变量或方法/调用另一个重载的构造函数
	void：没有返回值
其他：2个
	assert：断言条件是否满足，满足则继续向下执行，不满足则抛出异常终止执行
	enum：枚举类型
保留字：
	goto
	true
	false

true,false,null不是关键字，是保留字，但是仍不能用来命名标识符，
```

### 注释

```
注释是用来对当前编写的代码进行解释，方便后续人员的维护。因此，们在编写代码的时候一定要书写注释，养成良好的编程习惯

Java中的注释有三种
1.单行注释
	// 我是注释的内容
2.多行注释
	/*
		你好呀！
		我是注释。
	*/
3.文档注释，可以使用javadoc生成文档
	/**
	  * 我是文档注释
	  */

被注释的文字不会被编译
多行注释和文档注释不能嵌套使用
```

### 分隔符

```
空格，逗号，分号以及行结束符都被成为分隔符。
规定任意两个相邻标识符、数字、保留字、或者语句之间必须至少有一个分隔符，以便程序编译时能识别
{}大括号：用来定义类、方法体、复合语句和数组的初始化
;分号：用来作为语句结束的标志
,逗号：用来区分方法的各个参数，区分变量说明的各个变量
:冒号：用于语句标号
```

### 运算符

#### 算数运算符

```
+(正号)、-(负号)
+(加)、-(减)、*(乘)、/(除)、%(求余)
++(自增)、--(自减)、+(连接符，用于连接两个字符串)

% ：最后的符号和被模数一样。
	example: a % b = ? 最后的符号和b的符号一样
/ ：做除法运算时，最后的结果为整型。
		example: 5 / 2 = 2
	当除数为浮点类型时，结果为浮点类型. 
		example: 5 / 2.0 = 2.5
a++ : 在进行运算时，用a的值进行运算，最终a+1
++a : 在进行运算时，用a+1的值进行运算，最终a+1
+ : 连接符. 
	example: "hello" + "world" = "helloworld"
```

#### 关系运算符

```
>(大于)、<(小于)
>=(大于等于)、>=(小于等于)
==(等于)、!=(不等于)

instanceof(检查是否为类的对象)
关系运算符的最终结果为布尔型，要么为true，要么为false.
```

#### 赋值运算符

```
=、+=、-=、*=、/=、%=

a += b ：相当于 a = a + b
最后结果的数据类型和左侧操作数的类型相同
example: 
    int a = 2;
    a += 2.5; //等同于 a = (int)(a + 2.5);
```

#### 逻辑运算符

```
&(与)、|(或)
&&(短路与)、||(短路或)
!(非)

&&和||两侧为boolean类型
&&运算规则：两侧都为true结果为true
||运算规则：两侧都为false结果才为false

&&与&的区别：&&在参与运算时，只要左侧为false，右侧则不参与运算，而&两侧都参与运算
||与|的区别：||在参与运算时，只要左侧为true，右侧则不参与运算，而|两侧都参与运算
```

#### 位运算

```
&(按位与)、|(按位或)、^(按位异或，同为0，异为1)、~(取反)
>>(右移位)、<<(左移位)、>>>(无符号右移)

&和|两侧为数值型
运算规则：将数字转为二进制，按位计算，位数少的左侧补0
左移相当于在此基础上乘2 example: 2 << 1 = 2 * 2
右移相关于在此基础上除2 example: 2 >> 1 = 2 / 2
```

#### 三目运算符

```
条件表达式 ? 表达式1 : 表达式2
    条件表达式结果为true，执行表达式1
    条件表达式结果为false，执行表达式2
    表达式1 与 表达式2 的类型必须一致！
```

#### instanceof运算符

```
该运算符用于操作对象实例，检查该对象是否是一个特定类型（类类型或接口类型）

(object reference variable) instanceof (class/interface type)

example1:
    String name = "James";
    boolean result = name instanceof String; // 由于name是String类型，所以返回真

example2:
	class Vehicle {}
 
    public class Car extends Vehicle {
       public static void main(String[] args){
          Vehicle a = new Car();
          boolean result =  a instanceof Car;
          System.out.println( result);
       }
    }
结果：
	true
```

#### tips

```
相关计算：
byte，short，char在进行运算时，优先会转为int类型进行运算。
a += b 与 a = a + b 的区别：
	当byte,short,char进行运算时：
        byte += 2：最后的类型为byte
        byte = byte + 2：程序不能编译
        因为byte在参与运算时会以int类型计算
        所以int不能直接赋值给byte
        需要强制类型转化。 
        byte = (byte)byte + 2;
```

### 常量和变量

#### 常量

在 `Java` 中用关键字 `final` 指示常量，常量一旦被赋值，在程序运行过程中不允许被改变

```
final double PI = 3.1415927;
虽然常量名也可以用小写，但为了便于识别，通常使用大写字母表示常量

字面量可以赋给任何内置类型的变量
example:
	byte a = 68;
	char a = 'A';
```

##### 字符常量

```
用单引号引起来的单个字符
example:
	'b', '9'
```

##### 字符串常量

```
用双引号引起来的部分
example:
	"abc", "hello"
```

##### 整数常量

```
没有小数部分的数字
example:
	100, 200
```

##### 浮点数常量

```
有小数部分的数字
example:
	2.5, -3.14
```

##### 布尔常量

```
只有两种取值 true false
```

```
byte、int、long、和short都可以用十进制、16进制以及8进制的方式来表示
当使用字面量的时候，前缀0表示8进制，而前缀0x代表16进制
example：
	int decimal = 100;
    int octal = 0144;
    int hexa =  0x64;
   
字符串常量和字符变量都可以包含任何 Unicode 字符
example：
	char a = '\u0001';
	String a = "\u0001";
```

#### 类常量

在一个类的多个方法中使用，可以定义为类常量，用 `static final` 来设置一个类常量

```
final double CIRCLE_R = 2.3;
static final double CIRCLE_R = 3.3;
```

#### 变量

在程序中，其值可以被改变的。在声明一个变量时，必须对变量进行初始化，不能使用没被初始化的变量

```
从根本上来说，变量其实就是内存中的一块小区域。一个程序运行的时候，这个程序要先在内存里面才能够开始运行
不同的变量类型在内存中分配不同大小的存储空间，每一个变量都有自己特定的数据类型，当给变量声明了不同的数据类型它就在内存中占用不同的存储空间。
```

![img](C:\workspace\git\Knowledge\doc\javase\images\202203300001.png)

```
在 Java 中，我们通过三个元素描述变量：变量类型、变量名以及变量值
double area = 10;
double --- 变量类型
area --- 变量名
10 --- 变量值

example:
    int a, b, c;         // 声明三个int型整数：a、 b、c
    int d = 3, e = 4, f = 5; // 声明三个整数并赋予初值
    byte z = 22;         // 声明并初始化 z
    String s = "runoob";  // 声明并初始化字符串 s
    double pi = 3.14159; // 声明了双精度浮点型变量 pi
    char x = 'x';        // 声明变量 x 的值是字符 'x'。
```

##### 变量的分类

```
按被声明的位置划分：
	局部变量：方法或语句块内部定义的变量
	成员变量：方法外部、类的内部定义的变量，非静态变量。也叫实例变量
	类变量：静态变量
	类外面不能有变量的声明
按所属的数据类型划分：
	基本数据类型变量
	引用数据类型变量
```

##### 局部变量和成员变量

```
public class Variable{
    static int allClicks = 0;    // 类变量
 
    String str = "hello world";  // 实例变量
 
    public void method(){
        int i = 0;  // 局部变量
    }
}
```

###### 局部变量

```
1.局部变量声明在方法、构造方法或者语句块中
2.局部变量在方法、构造方法、或者语句块被执行的时候创建，当它们执行完成后，变量将会被销毁
3.访问修饰符不能用于局部变量
4.局部变量只在声明它的方法、构造方法或者语句块中可见
5.局部变量是在栈上分配的
6.局部变量没有默认值，所以局部变量被声明后，必须经过初始化，才可以使用
```

###### 实例变量

```
1.实例变量声明在一个类中，但在方法、构造方法和语句块之外
2.当一个对象被实例化之后，每个实例变量的值就跟着确定
3.实例变量在对象创建的时候创建，在对象被销毁的时候销毁
4.实例变量的值应该至少被一个方法、构造方法或者语句块引用，使得外部能够通过这些方式获取实例变量信息
5.实例变量可以声明在使用前或者使用后
6.访问修饰符可以修饰实例变量
7.实例变量对于类中的方法、构造方法或者语句块是可见的。一般情况下应该把实例变量设为私有。通过使用访问修饰符可以使实例变量对子类可见
8.实例变量具有默认值。数值型变量的默认值是0，布尔型变量的默认值是false，引用类型变量的默认值是null。变量的值可以在声明时指定，也可以在构造方法中指定
9.实例变量可以直接通过变量名访问。但在静态方法以及其他类中，就应该使用完全限定名：ObejectReference.VariableName
```

###### 类变量（静态变量）

```
1.类变量也称为静态变量，在类中以 static 关键字声明，但必须在方法之外
2.无论一个类创建了多少个对象，类只拥有类变量的一份拷贝
3.静态变量除了被声明为常量外很少使用，静态变量是指声明为 public/private，final 和 static 类型的变量。静态变量初始化后不可改变
4.静态变量储存在静态存储区。经常被声明为常量，很少单独使用 static 声明变量
5.静态变量在第一次被访问时创建，在程序结束时销毁
6.与实例变量具有相似的可见性。但为了对类的使用者可见，大多数静态变量声明为 public 类型
7.默认值和实例变量相似。数值型变量默认值是 0，布尔型默认值是 false，引用类型默认值是 null。变量的值可以在声明的时候指定，也可以在构造方法中指定。此外，静态变量还可以在静态语句块中初始化
8.静态变量可以通过：ClassName.VariableName的方式访问
9.类变量被声明为 public static final 类型时，类变量名称一般建议使用大写字母。如果静态变量不是 public 和 final 类型，其命名方式与实例变量以及局部变量的命名方式一致
```

#### tips

```
变量的作用域：
	在声明该变量的位置开始，到该变量所处的大括号内结束
Java中的变量需要先声明后使用
变量使用时，可以声明变量的同行进行初始化，也可以先声明后赋值
变量中每次只能赋一个值，但可以修改多次
main方法中定义的变量必须先赋值，才能输出
实际开发中，变量名不建议使用中文，容易产生安全隐患，譬如：跨平台操作时出现乱码
```

### 方法

`Java` 中为了提高代码的复用性，可以将其定义一个单独的功能，该功能具体体现就是 `Java` 中的方法 / 函数

```
Java中方法的格式
访问控制符 返回值类型 函数名(参数类型1，形式参数1，参数类型2，形式参数2) {
	执行语句;
	return 返回值;
}

形式参数：在方法被调用时用于接收外界输入的数据
实参：调用方法时实际传给方法的数据
返回值：方法执行完毕后返回给调用它的环境的数据
返回值类型：事先约定好的返回值的数据类型。如无返回值，返回值类型为void
当函数没有具体返回值时，返回值类型为 void 关键字表示
如果函数的返回值类型为void时，return语句可以省略不写，系统会自动添加

return 的作用：结束函数
```

#### 方法的调用

```
Java中需要通过对象的实例来调用方法: 对象名.方法名

public class Demo2 {

    public static void main(String[] args) {
        Demo2 demo2 = new Demo2();  // 创建类Demo2的实例化对象demo2
        demo2.say();    // 通过对象来调用say方法。
    }

    /**
     * 无参，无返回值方法say。
     * 打印say hello
     */
    public void say() {
        System.out.println("say hello");
    }
}
```

#### 块作用域

即符合语句，指由一对大括号括起来的若干语句，块确定了变量的作用域

```
public static void main(String[] args) {
	int n = 0;
	{
		int p = 4;	// 只在此大括号内有效
	}
	System.out.println(p);	// 出错，找不到变量p
}
```

#### 作用

- 用于定义功能
- 用于封装代码提高代码的复用性

#### 方法的重载

```
方法名相同，参数个数或者参数类型不同
与访问控制符，修饰符，返回值类型无关
```

#### tips

```
方法中只能调用方法，不能定义方法
Java中进行函数调用中传递参数时，遵循值传递的原则：
	基本数据类型传递的是该数值的本身
	引用类型传递的是对象的引用，而不是对象本身
```

### 输入和输出

为了增加后面示例程序的趣味性，需要程序能够接收输入，并以适当的格式输出

#### 输入

要想通过控制台进行输入，首先需要构造一个 `Scanner` 对象，并与“标准输入流” `System.in` 关联.

`Scanner` 类定义在`java.util` 包中。当使用的类不是定义在基本`java.lang` 包中时，一定要使用`import `指示字将相应的包加载进来。

```
import java.util.*;  //必须导入该包

Scanner in = new Scanner(System.in);
//输入一行,使用 nextLine方法是因为在输入行中有可能包含空格。
String name = in.nextLine(); 
//读取一个单词，遇见空白符停止
String firstName = in.next();
//读取一个整数
int i = in.nextInt();
//读取一个浮点数
double d = in.nextDouble();

Scanner API:
next():获取字符串，遇到空白字符停止
nextLine():获取一行字符
nextInt():获取int类型的整数
nextDouble():获取double类型的浮点数
hasNext():是否有下一个输入，如果有，返回true，否则返回false
```

#### 输出

```
System.out.println(); //输出并换行
System.out.print(); // 输出不换行
System.out.printf(); //格式化输出

%d    -   以十进制整数格式输出
%f    -   以十进制浮点数格式输出
%c/%C -   以字符符号输出
%s/%S -   以字符串格式输出
%o    -   以八进制整数格式输出
%x/%X -   以十六进制整数格式输出
```

### 第一个Java程序

```
public class HelloWorld {
    /* 第一个Java程序
     * 它将输出字符串 Hello World
     */
    public static void main(String[] args) {
        System.out.println("Hello World"); // 输出 Hello World
    }
}
```

![img](C:\workspace\git\Knowledge\doc\javase\images\202203300002.jpg)

```
打开代码编辑器，把上面的代码添加进去
把文件名保存为：HelloWorld.java
打开 cmd 命令窗口，进入目标文件所在的位置，假设是 C:\
在命令行窗口输入 javac HelloWorld.java 按下回车键编译代码。如果代码没有错误，cmd 命令提示符会进入下一行（假设环境变量都设置好了）。
再键输入 java HelloWorld 按下回车键就可以运行程序了

$ javac HelloWorld.java
$ java HelloWorld 
Hello World
```

### Java源程序与编译型运行区别

![img](C:\workspace\git\Knowledge\doc\javase\images\ZSSDMld.png)

